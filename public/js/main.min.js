!function(){function loadJsonFile(jsonfile){var xmlhttp=new XMLHttpRequest;xmlhttp.open("GET","./api/"+jsonfile,!0),xmlhttp.setRequestHeader("Content-Type","application/json"),xmlhttp.onreadystatechange=function(){if(4==xmlhttp.readyState){if(200!=xmlhttp.status&&0!==xmlhttp.status)return;var data=xmlhttp.responseText;if(!data)return;processRequest(data)}},xmlhttp.send()}function processRequest(Data){document.getElementById("main-menu").appendChild(menuNavBuilder(JSON.parse(Data)));var links=document.querySelectorAll(".nav-option");buildOverlay();for(var i=0;i<links.length;i++){var currentLink=links[i];currentLink.onclick=function(e){var active=document.querySelector(".active");if(active===e.target.parentNode)active.classList.remove("active");else{null!==active&&active.classList.remove("active"),e.target.parentNode.classList.toggle("active");var mobileestus=document.body.querySelectorAll(".mobile-active");if(mobileestus===!1){var childnode=e.target.parentNode.childNodes;childnode.length>1?(document.getElementById("overlay").style.height=getContentHeight(),document.getElementById("overlay").classList.add("visible-over")):document.getElementById("overlay").classList.remove("visible-over")}}currentLink.children.length>1&&e.target.preventDefault()}}document.getElementById("mobile-menu").onclick=function(){var mobileestus=document.body.classList.toggle("mobile-active");mobileestus?(document.getElementById("overlay").style.height=getContentHeight(),document.getElementById("overlay").classList.add("visible-over")):document.getElementById("overlay").classList.remove("visible-over")}}function getContentHeight(){var body=document.body,html=document.documentElement,height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight);return height.toString()+"px"}function buildOverlay(){var overlay=document.createElement("div");overlay.id="overlay",overlay.onclick=function(){var mobileactive=document.querySelector(".mobile-active");if(null===mobileactive){this.classList.remove("visible-over");var active=document.querySelector(".active");null!==active&&active.classList.remove("active")}},document.getElementById("main-content").appendChild(overlay),document.getElementById("overlay").setAttribute("style","height: "+getContentHeight())}function menuNavBuilder(Data){var items=Data.items,navmenu=document.createElement("ul");return navmenu.className="first-level",navmenu.id="first-level",items.forEach(function(item){var li=document.createElement("li");li.className="nav-option";var link=document.createElement("a");if(link.text=item.label,link.href=item.url,li.appendChild(link),item.items.length>0){var subnav=document.createElement("ul");subnav.className="second-level",item.items.forEach(function(item_int){var subli=document.createElement("li");subli.className="nav-option";var sublink=document.createElement("a");sublink.text=item_int.label,sublink.href=item_int.url,subli.appendChild(sublink),subnav.appendChild(subli)}),li.appendChild(subnav),li.classList.add("parent")}navmenu.appendChild(li)}),navmenu}var _menudocument="nav.json";document.ready=loadJsonFile(_menudocument)}();